<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Atenci√≥n al Cliente, Consumidor y usuario</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #f3f4f6;
      color: #111827;
    }

  body {
  background: linear-gradient(to bottom, rgb(55, 55, 243), blue, #4c1d95, #1e1b4b, #0f0a2b);
  padding-bottom: 90px;
}



   .app {
  max-width: 900px;
  width: 100%;
  background: linear-gradient(
    to bottom,
    rgba(255,255,255,0.85),
    rgba(245,245,245,0.8)
  );
  border-radius: 20px;
  padding: 1.7rem 2rem;
  box-shadow: 0 18px 35px rgba(0,0,0,0.18);
  border: 1px solid rgba(255,255,255,0.4);
}


    h1 {
      margin-top: 0;
      text-align: center;
      font-size: 1.5rem;
      margin-bottom: 0.25rem;
    }

    .subtitle {
      text-align: center;
      font-size: 0.9rem;
      color: #6b7280;
      margin-bottom: 1.5rem;
    }

   .controls {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;

  display: flex;
  gap: 0.75rem;
  justify-content: center;
  flex-wrap: wrap;

  padding: 12px;
  background: rgba(20, 10, 40, 0.95);
  backdrop-filter: blur(6px);

  z-index: 9999;
  border-top: 1px solid rgba(255,255,255,0.1);
}


 button {
  border: none;
  border-radius: 12px;
  padding: 0.65rem 1.2rem;
  font-size: 0.95rem;
  cursor: pointer;
  transition: 0.2s ease;
}

button.primary {
  background: linear-gradient(135deg, #2563eb, #3b82f6);
  color: white;
  box-shadow: 0 4px 10px rgba(59, 130, 246, 0.4);
}

button.primary:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.5);
}

button.secondary {
  background: #e5e7eb;
  color: #111827;
}

button.secondary:hover {
  transform: scale(1.05);
  background: #d1d5db;
}


    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .questions {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .question-card {
      border-radius: 0.9rem;
      border: 1px solid #e5e7eb;
      padding: 0.9rem 1rem;
      background: #f9fafb;
    }

    .question-header {
      display: flex;
      align-items: flex-start;
      gap: 0.7rem;
      margin-bottom: 0.6rem;
    }

    .question-number {
      font-weight: 600;
      font-size: 0.85rem;
      color: #6b7280;
      padding: 0.25rem 0.5rem;
      border-radius: 999px;
      background: #e5e7eb;
      flex-shrink: 0;
    }

    .question-text {
      font-size: 0.95rem;
      font-weight: 500;
    }

    .answers {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .answer-option {
      display: flex;
      align-items: flex-start;
      gap: 0.45rem;
      padding: 0.35rem 0.5rem;
      border-radius: 0.5rem;
      transition: background 0.15s, transform 0.05s;
      cursor: pointer;
    }

    .answer-option:hover {
      background: #e5e7eb;
      transform: translateY(-1px);
    }

    .answer-option input {
      margin-top: 0.15rem;
      cursor: pointer;
    }

    .answer-text {
      font-size: 0.9rem;
    }

    /* Estados tras corregir */
    .answer-option.correct {
      background: #dcfce7;
      border: 1px solid #16a34a;
    }

    .answer-option.incorrect {
      background: #fee2e2;
      border: 1px solid #dc2626;
    }

    .answer-option.unselected-correct {
      background: #ecfdf5;
      border: 1px dashed #16a34a;
    }

    .results {
      margin-top: 1.4rem;
      padding-top: 1rem;
      border-top: 1px solid #e5e7eb;
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      font-size: 0.95rem;
    }

    .score {
      font-weight: 600;
    }

    .score.good {
      color: #16a34a;
    }

    .score.medium {
      color: #f59e0b;
    }

    .score.bad {
      color: #dc2626;
    }

    .info-text {
      font-size: 0.8rem;
      color: #6b7280;
      margin-top: 0.5rem;
      text-align: center;
    }

    @media (max-width: 640px) {
      .app {
        padding: 1rem;
        border-radius: 0.75rem;
      }

      .question-card {
        padding: 0.8rem 0.75rem;
      }
    }
    body {
  margin: 0;
  padding: 1.5rem;
  display: flex;
  justify-content: center;

  /* ‚≠ê Fondo con imagen (pon aqu√≠ tu archivo) */
  /* ‚≠ê Capa blanca semitransparente encima */
  position: relative;
}

body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* Ajusta opacidad seg√∫n gusto: 0.30 = m√°s visible, 0.80 = m√°s blanco */
  background: rgba(255, 255, 255, 0.70);

  /* Difumina suavemente el fondo (opcional pero elegante) */
  backdrop-filter: blur(2px);

  z-index: -1;
}

  </style>
</head>
<body>
  <div class="app">
    <h1>Atenci√≥n al Cliente, Consumidor y Usuario</h1>
   <!-- <p class="subtitle">
  Plantilla editable ¬∑ Respuestas aleatorias ¬∑ Correcci√≥n autom√°tica
</p> -->


    <div class="controls">
      <button id="checkBtn" class="primary">Corregir test</button>
      <button id="resetBtn" class="secondary">Reiniciar / Nuevo orden</button>
    </div>

    <div id="questionsContainer" class="questions"></div>

    <div id="results" class="results" style="display:none;">
      <div id="scoreText" class="score"></div>
      <div id="detailText"></div>
    </div>

   <!--
<p class="info-text">
  Para crear nuevos tests, solo edita el array <strong>questions</strong> en el c√≥digo.
</p>
-->

  </div>

  <script>
    // ============================
    // 1. EDITA AQU√ç TUS PREGUNTAS
    // ============================
    // Para a√±adir m√°s: copia un bloque { text: "...", answers: [...] } y ajusta el contenido.
    const questionsData = [
      {
        text: "¬øCu√°l de las siguientes frases refleja una comunicaci√≥n positiva de cara al cliente?",
        answers: [
          { text: "En este momento es imposible atender su solicitud", correct: false },
          { text: "Usted tiene que elegir esta opci√≥n", correct: false },
          { text: "Ser√° un placer atender su solicitud en cuanto estemos en disposici√≥n de ello.", correct: true },
          { text: "No se admite ning√∫n tipo de devoluci√≥n sin el tique de compra.", correct: false }
        ]
      },
      {
        text: "¬øCu√°l de las siguientes no es una directriz que regula la comunicaci√≥n verbal?",
        answers: [
          { text: "Formalidad.", correct: false },
          { text: "Positividad.", correct: false },
          { text: "Ubicuidad.", correct: true },
          { text: "Correcci√≥n gramatical.", correct: false }
        ]
      },
      {
        text: "¬øCu√°l de las siguientes no es una queja o reclamaci√≥n frecuente en la fase posterior a la adquisici√≥n del bien o servicio?",
        answers: [
          { text: "Mala conservaci√≥n del producto.", correct: false },
          { text: "Instrucciones err√≥neas, confusas o incompletas.", correct: false },
          { text: "Defectos de f√°brica.", correct: false },
          { text: "Ausencia de informaci√≥n relativa al producto.", correct: true }
        ]
      },
      {
        text: "¬øCu√°l de las siguientes no es una t√©cnica cuantitativa para el control del rendimiento del departamento?",
        answers: [
          { text: "Tasa Comparativa de Tr√°mites Resueltos por el Agente.", correct: true },
          { text: "Tasa de Variaci√≥n de Tr√°mites.", correct: false },
          { text: "Tasa de Variaci√≥n del Tiempo de Atenci√≥n.", correct: false },
          { text: "Tasa de Eficacia en el Servicio.", correct: false }
        ]
      },
      {
        text: "¬øCu√°l es el primer paso a la hora de establecer un plan de calidad?",
        answers: [
          { text: "Medici√≥n del desempe√±o", correct: false },
          { text: "Disposici√≥n de los recursos materiales y humanos necesarios", correct: false },
          { text: "Programaci√≥n de actuaciones", correct: false },
          { text: "Fijaci√≥n de los objetivos", correct: true }
        ]
      },
      {
        text: "¬øCu√°ndo hablamos de silencio administrativo?",
        answers: [
          { text: "Cuando una administraci√≥n deja sin resolver una solicitud presentada adecuadamente a pesar de estar obligada a ello.", correct: true },
          { text: "Cuando se alcanza una soluci√≥n equitativa, asumible y acorde a la situaci√≥n del cliente.", correct: false },
          { text: "Cuando se resuelve administrativamente la problem√°tica y se da por cerrada de manera definitiva.", correct: false },
          { text: "Cuando el cliente muestra su malestar en el proceso de venta o en el servicio postventa.", correct: false }
        ]
      },
      {
        text: "¬øEn cu√°l de las siguientes opciones el cliente requiere una actuaci√≥n que ponga remedio a su malestar?",
        answers: [
          { text: "En una queja", correct: false },
          { text: "En una reclamaci√≥n", correct: true },
          { text: "En un escrito.", correct: false },
          { text: "En una invitaci√≥n", correct: false }
        ]
      },
      {
        text: "¬øEn qu√© consiste la f√≥rmula AIDA?",
        answers: [
          { text: "En atraer al receptor para que compre un producto varias veces.", correct: false },
          { text: "En ayudar al cliente, indicarle soluciones y agradecerle su atenci√≥n.", correct: false },
          { text: "En captar la atenci√≥n, crear inter√©s, provocar deseo y estimular la acci√≥n del receptor.", correct: true },
          { text: "En variar la comunicaci√≥n con el receptor para elegir la t√©cnica que mejor se adapte a √©l.", correct: false }
        ]
      },
      {
        text: "¬øQu√© entendemos por escucha activa?",
        answers: [
          { text: "La capacidad orientada a hacer sentir al cliente que se reciben y entienden sus demandas y que se atiende a sus sentimientos y emociones.", correct: true },
          { text: "La habilidad para transmitir creencias o sentimientos de manera sosegada, constructiva y transparente.", correct: false },
          { text: "La capacidad dirigida a comprender los sentimientos y emociones de los dem√°s para ponerse en su lugar y compartir su estado.", correct: false },
          { text: "La capacidad para inspirar o motivar al cliente.", correct: false }
        ]
      },
      {
        text: "¬øQu√© miden los KPI (Key Performance Indicator)?",
        answers: [
          { text: "El grado de consecuci√≥n de una meta, en este caso, la satisfacci√≥n del cliente.", correct: true },
          { text: "El n√∫mero de reclamaciones que recibe una empresa en un a√±o.", correct: false },
          { text: "La cantidad de trabajadores del departamento de Atenci√≥n al Cliente de una empresa", correct: false },
          { text: "No son herramientas medidoras.", correct: false }
        ]
      },
      {
        text: "¬øQu√© organigrama de empresa refleja mejor la jerarqu√≠a de responsabilidades a la hora de tomar decisiones?",
        answers: [
          { text: "Organigrama Lineal", correct: false },
          { text: "Organigrama Piramidal", correct: true },
          { text: "Organigrama Circular", correct: false },
          { text: "Organigrama Matricial", correct: false }
        ]
      },
      {
        text: "¬øQu√© t√©cnica de negociaci√≥n se considera m√°s recomendable?",
        answers: [
          { text: "T√°ctica de confrontaci√≥n", correct: false },
          { text: "T√°ctica coercitiva", correct: false },
          { text: "T√°ctica est√°tica", correct: false },
          { text: "T√°ctica de concesiones estrictas", correct: true }
        ]
      },
      {
        text: "¬øQu√© ventas especiales se contemplan en la LOCM?",
        answers: [
          { text: "Venta a distancia, venta autom√°tica, venta p√∫blica en subasta y franquicias.", correct: true },
          { text: "Venta de saldos, ventas en liquidaci√≥n, ventas con prima y ventas con obsequio.", correct: false },
          { text: "Venta presencial, venta online, venta en subasta y venta internacional.", correct: false },
          { text: "Venta virtual, venta asistida, leasing y franquicias.", correct: false }
        ]
      },
      {
        text: "Con respecto a la apariencia del agente:",
        answers: [
          { text: "Se admitir√° alg√∫n complemento siempre que no moleste a la hora de gesticular.", correct: true },
          { text: "Se recomiendan las prendas llamativas y vistosas.", correct: false },
          { text: "Se debe ir bien perfumado para impactar al cliente con el aroma.", correct: false },
          { text: "El cabello largo ir√° suelto y natural, para transmitir personalidad.", correct: false }
        ]
      },
      {
        text: "Con respecto a las t√©cnicas de control, los auditores:",
        answers: [
          { text: "Controlan a los agentes.", correct: true },
          { text: "Hacen propuestas vinculantes.", correct: false },
          { text: "Aplican las medidas correctoras.", correct: false },
          { text: "Tienen las mismas funciones que los directivos", correct: false }
        ]
      },
      {
        text: "Con respecto al sistema de clasificaci√≥n de documentos del DAC:",
        answers: [
          { text: "Su elecci√≥n es fruto de la aplicaci√≥n de criterios de eficacia y eficiencia.", correct: true },
          { text: "No requiere una planificaci√≥n previa, sino una actuaci√≥n inmediata.", correct: false },
          { text: "Se mantendr√° durante un periodo de tiempo limitado.", correct: false },
          { text: "Solo podr√° hacerse esta clasificaci√≥n en formato digital", correct: false }
        ]
      },
      {
        text: "¬øCu√°l de las siguientes no es una secci√≥n com√∫n en los Planes de atenci√≥n al cliente?",
        answers: [
          { text: "Contextualizaci√≥n de la labor del SAC", correct: false },
          { text: "Organizaci√≥n interna del SAC", correct: false },
          { text: "Organizaci√≥n externa del SAC", correct: true },
          { text: "Determinaci√≥n de las actividades de los agentes", correct: false }
        ]
      },
      {
        text: "Cuando se vende un producto defectuoso a un precio menor al de mercado, se trata de una:",
        answers: [
          { text: "Venta en rebajas", correct: false },
          { text: "Venta de promoci√≥n", correct: false },
          { text: "Venta de saldos", correct: true },
          { text: "Venta con prima", correct: false }
        ]
      },
      {
        text: "Dentro del proceso interno de gesti√≥n de quejas y reclamaciones, la valoraci√≥n preliminar eval√∫a:",
        answers: [
          { text: "La importancia del cliente y la peligrosidad y dificultad de la queja.", correct: true },
          { text: "Los hechos, el contexto y los clientes y productos implicados.", correct: false },
          { text: "El expediente del cliente y los canales utilizados.", correct: false },
          { text: "Los datos del reclamante, la instancia de soluci√≥n de agravio y los documentos adjuntos.", correct: false }
        ]
      },
      {
        text: "Desde comienzos del siglo XX, la figura del cliente, consumidor y usuario ha ido cobrando cada vez m√°s relevancia debido a:",
        answers: [
          { text: "Los cambios en la actitud ante la compra.", correct: false },
          { text: "La reducci√≥n del n√∫mero de empresas.", correct: false },
          { text: "El aumento constante de la oferta de bienes y servicios.", correct: true },
          { text: "La creaci√≥n de los servicios de atenci√≥n al cliente en las empresas.", correct: false }
        ]
      },
      {
        text: "El arbitraje se desarrolla a trav√©s de:",
        answers: [
          { text: "Las Alternative Dispute Resolution.", correct: false },
          { text: "Las instancias generales y los recursos.", correct: false },
          { text: "Las juntas arbitrales de consumo y los √≥rganos arbitrales.", correct: true },
          { text: "Los √°rbitros colegiados y los administradores colegiales.", correct: false }
        ]
      },
      {
        text: "El data mining y el CMR se utilizan para:",
        answers: [
          { text: "Incrementar la calidad de la toma de decisiones de la organizaci√≥n.", correct: false },
          { text: "Almacenar y conservar documentos", correct: false },
          { text: "Facilitar el acceso a los documentos a cualquier miembro del equipo", correct: false },
          { text: "Recoger y analizar datos relativos a los clientes y generar tendencias, patrones y resultados significativos para la empresa.", correct: true }
        ]
      },
      {
        text: "El marketing relacional promueve la adopci√≥n de una actitud ______________ con el cliente.",
        answers: [
          { text: "Negativa", correct: false },
          { text: "Reactiva", correct: false },
          { text: "Proactiva", correct: true },
          { text: "Compasiva", correct: false }
        ]
      },
      {
        text: "El organismo que otorga a las entidades externas el permiso para actuar como certificadoras es:",
        answers: [
          { text: "La Organizaci√≥n ISO.", correct: false },
          { text: "SERVQUAL.", correct: false },
          { text: "La Entidad Nacional de Acreditaci√≥n.", correct: true },
          { text: "La Asociaci√≥n Nacional de Entidades Certificadoras y Acreditadoras.", correct: false }
        ]
      },
      {
        text: "El procedimiento que consiste en recurrir a f√≥rmulas como el arbitraje o la mediaci√≥n cuando internamente no se logra una gesti√≥n exitosa de la queja o reclamaci√≥n se denomina:",
        answers: [
          { text: "Resoluci√≥n informal interna", correct: false },
          { text: "Resoluci√≥n formal interna", correct: false },
          { text: "Resoluci√≥n formal externa", correct: true },
          { text: "Resoluci√≥n formal judicial", correct: false }
        ]
      },
      {
        text: "En el SAC se recomienda que la comunicaci√≥n sea:",
        answers: [
          { text: "Colectiva, extraoficial e informal", correct: false },
          { text: "Individual, oficial y formal", correct: true },
          { text: "Individual, informal y cooficial", correct: false },
          { text: "Individual, extraoficial y formal.", correct: false }
        ]
      },
      {
        text: "En funci√≥n de c√≥mo ejerzan sus labores, los agentes pueden ser:",
        answers: [
          { text: "Operadores, teleoperadores, gestores y front office.", correct: true },
          { text: "Encuestadores, coordinadores, filtro y auditores.", correct: false },
          { text: "De contacto, de supervisi√≥n, de resoluci√≥n y de atenci√≥n.", correct: false },
          { text: "Front office, back office, complementarios y administrativos.", correct: false }
        ]
      },
      {
        text: "En una base de datos Relacional:",
        answers: [
          { text: "Los campos est√°n incluidos en el propio archivo, conformando una √∫nica tabla de registros y campos.", correct: false },
          { text: "Se aglutinan, organizan y sincronizan datos provenientes de campos de varios archivos o bases de datos.", correct: true },
          { text: "Permite a√±adir dos o m√°s datos en un mismo campo.", correct: false },
          { text: "√önicamente recopila y organiza los datos, de forma que facilite su visualizaci√≥n.", correct: false }
        ]
      },
      {
        text: "La comunicaci√≥n empresarial externa se produce con:",
        answers: [
          { text: "Los stakeholders internos y externos.", correct: true },
          { text: "Los clientes, consumidores y usuarios.", correct: false },
          { text: "El p√∫blico objetivo que haya definido la empresa.", correct: false },
          { text: "Las administraciones p√∫blicas y agentes sociales.", correct: false }
        ]
      },
      {
        text: "La comunicaci√≥n interna es diagonal cuando:",
        answers: [
          { text: "Se produce entre unidades del mismo escalaf√≥n del organigrama de la empresa, independientemente de si est√°n en la misma √°rea funcional o no.", correct: false },
          { text: "Va de los rangos inferiores hacia los superiores dentro de la misma √°rea funcional.", correct: false },
          { text: "Permite el flujo de informaci√≥n entre rangos y √°reas diferentes, pudiendo ser ascendente o descendente.", correct: true },
          { text: "Va de los rangos superiores hacia los inferiores dentro de la misma √°rea funcional.", correct: false }
        ]
      },
      {
        text: "La definici√≥n de las actuaciones de los agentes tiene como objetivo:",
        answers: [
          { text: "Dejar un margen amplio para la improvisaci√≥n de los agentes.", correct: false },
          { text: "Ofrecer unas directrices claras al responsable del SAC.", correct: false },
          { text: "Acercarse al cumplimiento √≠ntegro de lo planificado.", correct: true },
          { text: "Evitar las llamadas telef√≥nicas", correct: false }
        ]
      },
      {
        text: "La ficha de cliente puede adquirir dos formatos:",
        answers: [
          { text: "Ficha de archivo o ficha de registro.", correct: false },
          { text: "Ficha abierta o ficha acotada.", correct: false },
          { text: "Ficha resumida o ficha completa.", correct: true },
          { text: "Ficha econ√≥mica o ficha identificativa.", correct: false }
        ]
      },
      {
        text: "La identidad corporativa:",
        answers: [
          { text: "Es la propuesta, el valor, la personalidad que caracteriza y diferencia a la empresa.", correct: false },
          { text: "Es una idea mental que el consumidor se construye sobre la empresa.", correct: false },
          { text: "Son los elementos que representan de forma visual y material a la empresa.", correct: true },
          { text: "Est√° vinculada a una correcta aplicaci√≥n del marketing relacional.", correct: false }
        ]
      },
      {
        text: "La inversi√≥n en I+D se trata de un:",
        answers: [
          { text: "Factor interno de la empresa, puesto que la empresa es responsable de buscar nuevos procesos que optimicen el tiempo y los recursos.", correct: true },
          { text: "Es un factor externo, porque depende del desarrollo tecnol√≥gico de los √∫ltimos a√±os.", correct: false },
          { text: "Es un factor intermedio, ya que depende de los directivos y los clientes", correct: false },
          { text: "Es un factor interno, ya que la empresa tiene un control m√≠nimo o nulo sobre esta.", correct: false }
        ]
      },
      {
        text: "La LOCM sanciona las infracciones graves con una cuant√≠a de:",
        answers: [
          { text: "Hasta 6.000‚Ç¨", correct: false },
          { text: "Entre 6.000 y 30.000‚Ç¨", correct: true },
          { text: "Entre 30.000 y 900.000‚Ç¨", correct: false },
          { text: "Superior a 600.000‚Ç¨", correct: false }
        ]
      },
      {
        text: "Los clientes potenciales son aquellos que:",
        answers: [
          { text: "Han adquirido el bien o servicio de la empresa al menos una vez", correct: false },
          { text: "Ya tienen una opini√≥n formada con respecto a la compra antes de contactar con la empresa.", correct: false },
          { text: "Hacen uso del bien o servicio con intenci√≥n de obtener rentabilidad en una actividad econ√≥mica posterior", correct: false },
          { text: "No han adquirido el bien o disfrutado del servicio, pero est√°n en condiciones de hacerlo a corto plazo.", correct: true }
        ]
      },
      {
        text: "Los contact centers:",
        answers: [
          { text: "Son una modalidad de subcontrataci√≥n que ofrece menor eficiencia a corto plazo.", correct: false },
          { text: "Obligan a la empresa a formar a los profesionales que los componen.", correct: false },
          { text: "Requieren un acuerdo de contrataci√≥n claro en cuanto a los t√©rminos en los que se prestar√° el servicio.", correct: true },
          { text: "Contactan con los empleados para ver c√≥mo se sienten", correct: false }
        ]
      },
      {
        text: "Los mecanismos que permiten a los ciudadanos relacionarse con las administraciones son:",
        answers: [
          { text: "Los actos administrativos.", correct: false },
          { text: "Las denuncias, las instancias generales y los recursos administrativos.", correct: true },
          { text: "El derecho de petici√≥n, recogido en el art√≠culo 29 de la Constituci√≥n.", correct: false },
          { text: "Los recogidos en la Ley 11/2011, de 20 de mayo, de regulaci√≥n institucional en la Administraci√≥n General del Estado.", correct: false }
        ]
      },
      {
        text: "Una persona f√≠sica que se hace con determinados bienes o servicios para hacer un uso personal de los mismos, sin ninguna pretensi√≥n de incorporarlos a posteriores actividades lucrativas es:",
        answers: [
          { text: "Un cliente", correct: false },
          { text: "Un consumidor", correct: true },
          { text: "Un usuario", correct: false },
          { text: "Comprador", correct: false }
        ]
      },
      {
        text: "Uno de los aspectos destacados que se recogen en el contenido de la LOPD es:",
        answers: [
          { text: "La exactitud de los datos.", correct: true },
          { text: "La soluci√≥n de conflictos.", correct: false },
          { text: "El deber de compatibilidad.", correct: false },
          { text: "La autorizaci√≥n para la divulgaci√≥n de los datos recopilados.", correct: false }
        ]
      }
    ];
    // =====================================
    // 2. L√ìGICA DEL TEST (NO TOCAR SI NO HACE FALTA)
    // =====================================

    const questionsContainer = document.getElementById("questionsContainer");
    const checkBtn = document.getElementById("checkBtn");
    const resetBtn = document.getElementById("resetBtn");
    const resultsBox = document.getElementById("results");
    const scoreText = document.getElementById("scoreText");
    const detailText = document.getElementById("detailText");

    let quizState = [];

    function shuffleArray(array) {
      return array
        .map(value => ({ value, sort: Math.random() }))
        .sort((a, b) => a.sort - b.sort)
        .map(({ value }) => value);
    }

    function buildQuiz() {
      questionsContainer.innerHTML = "";
      resultsBox.style.display = "none";
      checkBtn.disabled = false;

      quizState = questionsData.map((q, index) => {
        const shuffledAnswers = shuffleArray([...q.answers]);
        const questionId = "q" + index;
        const card = document.createElement("div");
        card.className = "question-card";
        card.dataset.questionId = questionId;

        const header = document.createElement("div");
        header.className = "question-header";

        const num = document.createElement("div");
        num.className = "question-number";
        num.textContent = "Pregunta " + (index + 1);

        const text = document.createElement("div");
        text.className = "question-text";
        text.textContent = q.text;

        header.appendChild(num);
        header.appendChild(text);

        const answersDiv = document.createElement("div");
        answersDiv.className = "answers";

        shuffledAnswers.forEach((ans, ansIndex) => {
          const label = document.createElement("label");
          label.className = "answer-option";

          const input = document.createElement("input");
          input.type = "radio";
          input.name = questionId;
          input.value = ansIndex;
          input.dataset.correct = ans.correct ? "true" : "false";

          const span = document.createElement("span");
          span.className = "answer-text";
          span.textContent = ans.text;

          label.appendChild(input);
          label.appendChild(span);
          answersDiv.appendChild(label);
        });

        card.appendChild(header);
        card.appendChild(answersDiv);
        questionsContainer.appendChild(card);

        return {
          questionId,
          element: card
        };
      });
    }

    function gradeQuiz() {
      let correctCount = 0;
      let unanswered = 0;

      quizState.forEach((q) => {
        const card = q.element;
        const options = card.querySelectorAll(".answer-option");
        let selectedInput = null;

        options.forEach(opt => {
          const input = opt.querySelector("input");
          opt.classList.remove("correct", "incorrect", "unselected-correct");
          if (input.checked) selectedInput = input;
        });

        if (!selectedInput) {
          unanswered++;
        } else if (selectedInput.dataset.correct === "true") {
          correctCount++;
        }

        // Marcar visualmente correctas / incorrectas
        options.forEach(opt => {
          const input = opt.querySelector("input");
          input.disabled = true;

          if (input.dataset.correct === "true" && input.checked) {
            opt.classList.add("correct");
          } else if (input.dataset.correct === "false" && input.checked) {
            opt.classList.add("incorrect");
          } else if (input.dataset.correct === "true" && !input.checked) {
            opt.classList.add("unselected-correct");
          }
        });
      });

      const total = questionsData.length;
      const percentage = (correctCount / total) * 100;

      let gradeClass = "bad";
      if (percentage >= 80) gradeClass = "good";
      else if (percentage >= 50) gradeClass = "medium";

      scoreText.className = "score " + gradeClass;
      scoreText.textContent = `Resultado: ${correctCount} de ${total} (${percentage.toFixed(1)}%)`;

      let detail = "";
      if (unanswered > 0) {
        detail += `Preguntas sin responder: ${unanswered}. `;
      }
      if (percentage >= 80) {
        detail += "Muy buen trabajo, dominas el tema ‚úÖ";
      } else if (percentage >= 50) {
        detail += "Nada mal, pero puedes repasar algunos conceptos üëç";
      } else {
        detail += "Te conviene repasar el contenido antes del examen üìö";
      }

      detailText.textContent = detail;
      resultsBox.style.display = "flex";
      checkBtn.disabled = true;
    }

    checkBtn.addEventListener("click", gradeQuiz);
    resetBtn.addEventListener("click", buildQuiz);

    // Construir el test al cargar
    buildQuiz();
  </script>
</body>
</html>
