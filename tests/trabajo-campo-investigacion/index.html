<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Trabajo de campo en la investigaci√≥n comercial</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #f3f4f6;
      color: #111827;
    }

    body {
      margin: 0;
      padding: 1.5rem;
      display: flex;
      justify-content: center;
      background: linear-gradient(to bottom,
  #0f172a,
  #1e293b,
  #334155,
  #1e293b,
  #0b1120
);


    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.70);
      backdrop-filter: blur(2px);
      z-index: -1;
    }

    .app {
      max-width: 900px;
      width: 100%;
      background: linear-gradient(
        to bottom,
        rgba(255,255,255,0.85),
        rgba(245,245,245,0.8)
      );
      border-radius: 20px;
      padding: 1.7rem 2rem;
      box-shadow: 0 18px 35px rgba(0,0,0,0.18);
      border: 1px solid rgba(255,255,255,0.4);
    }

    h1 {
      margin-top: 0;
      text-align: center;
      font-size: 1.5rem;
      margin-bottom: 0.25rem;
    }

    .controls {
      display: flex;
      gap: 0.75rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
    }

    button {
      border: none;
      border-radius: 12px;
      padding: 0.65rem 1.2rem;
      font-size: 0.95rem;
      cursor: pointer;
      transition: 0.2s ease;
    }

    button.primary {
      background: linear-gradient(135deg, #2563eb, #3b82f6);
      color: white;
      box-shadow: 0 4px 10px rgba(59, 130, 246, 0.4);
    }

    button.primary:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 16px rgba(59, 130, 246, 0.5);
    }

    button.secondary {
      background: #e5e7eb;
      color: #111827;
    }

    button.secondary:hover {
      transform: scale(1.05);
      background: #d1d5db;
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .questions {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .question-card {
      border-radius: 0.9rem;
      border: 1px solid #e5e7eb;
      padding: 0.9rem 1rem;
      background: #f9fafb;
    }

    .question-header {
      display: flex;
      align-items: flex-start;
      gap: 0.7rem;
      margin-bottom: 0.6rem;
    }

    .question-number {
      font-weight: 600;
      font-size: 0.85rem;
      color: #6b7280;
      padding: 0.25rem 0.5rem;
      border-radius: 999px;
      background: #e5e7eb;
      flex-shrink: 0;
    }

    .question-text {
      font-size: 0.95rem;
      font-weight: 500;
    }

    .answers {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .answer-option {
      display: flex;
      align-items: flex-start;
      gap: 0.45rem;
      padding: 0.35rem 0.5rem;
      border-radius: 0.5rem;
      transition: background 0.15s, transform 0.05s;
      cursor: pointer;
    }

    .answer-option:hover {
      background: #e5e7eb;
      transform: translateY(-1px);
    }

    .answer-option input {
      margin-top: 0.15rem;
      cursor: pointer;
    }

    .answer-text {
      font-size: 0.9rem;
    }

    .answer-option.correct {
      background: #dcfce7;
      border: 1px solid #16a34a;
    }

    .answer-option.incorrect {
      background: #fee2e2;
      border: 1px solid #dc2626;
    }

    .answer-option.unselected-correct {
      background: #ecfdf5;
      border: 1px dashed #16a34a;
    }

    .results {
      margin-top: 1.4rem;
      padding-top: 1rem;
      border-top: 1px solid #e5e7eb;
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      font-size: 0.95rem;
    }

    .score {
      font-weight: 600;
    }

    .score.good {
      color: #16a34a;
    }

    .score.medium {
      color: #f59e0b;
    }

    .score.bad {
      color: #dc2626;
    }

    @media (max-width: 640px) {
      .app {
        padding: 1rem;
        border-radius: 0.75rem;
      }

      .question-card {
        padding: 0.8rem 0.75rem;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <h1>Trabajo de campo en la investigaci√≥n comercial</h1>

    <div class="controls">
      <button id="checkBtn" class="primary">Corregir test</button>
      <button id="resetBtn" class="secondary">Reiniciar / Nuevo orden</button>
    </div>

    <div id="questionsContainer" class="questions"></div>

    <div id="results" class="results" style="display:none;">
      <div id="scoreText" class="score"></div>
      <div id="detailText"></div>
    </div>
  </div>

  <script>
    const questionsData = [
      {
        text: "¬øCu√°l de las siguientes es un punto fuerte de las din√°micas de grupo?",
        answers: [
          { text: "Subjetividad.", correct: false },
          { text: "Dinamismo.", correct: true },
          { text: "Artificialidad.", correct: false },
          { text: "Estandarizaci√≥n", correct: false }
        ]
      },
      {
        text: "¬øCu√°l de las siguientes no es una teor√≠a de la motivaci√≥n?:",
        answers: [
          { text: "Teor√≠a de las necesidades de Maslow.", correct: false },
          { text: "Teor√≠a del empowerment.", correct: false },
          { text: "Teor√≠a de los dos factores.", correct: false },
          { text: "Teor√≠a del boomerang.", correct: true }
        ]
      },
      {
        text: "¬øCu√°l de los siguientes no es un tipo de muestreo aleatorio?:",
        answers: [
          { text: "Sistem√°tico.", correct: false },
          { text: "Por conglomerados.", correct: false },
          { text: "Por cuotas.", correct: true },
          { text: "Estratificado.", correct: false }
        ]
      },
      {
        text: "¬øCu√°l es la primera fase en el proceso metodol√≥gico de la investigaci√≥n comercial?:",
        answers: [
          { text: "Determinar los objetivos.", correct: false },
          { text: "Dise√±ar la investigaci√≥n.", correct: false },
          { text: "Identificar el problema objeto de estudio.", correct: true },
          { text: "Realizar una investigaci√≥n preliminar para generar un objeto de estudio.", correct: false }
        ]
      },
      {
        text: "¬øCu√°les son los principios b√°sicos del C√≥digo ICC/ISOMAR?:",
        answers: [
          { text: "Obligatoriedad, racionalidad, equilibrio y semejanza.", correct: false },
          { text: "Legalidad, confianza, responsabilidad e independencia.", correct: true },
          { text: "Responsabilidad, neutralidad, buen hacer y correcci√≥n.", correct: false },
          { text: "Legalidad, imparcialidad, concurrencia y moralidad.", correct: false }
        ]
      },
      {
        text: "¬øQu√© tipo de encuestas existen?:",
        answers: [
          { text: "CAPI, MCAPI, CATI y CAWI.", correct: false },
          { text: "Estructuradas, semiestructuradas o en profundidad.", correct: false },
          { text: "Personales, telef√≥nicas, postales y online.", correct: true },
          { text: "El tipo de encuesta depende de la naturaleza de la investigaci√≥n y el colectivo al que se dirige.", correct: false }
        ]
      },
      {
        text: "¬øQu√© tipolog√≠a de muestreo es considerada por diversos autores como un m√©todo semiprobabil√≠stico?:",
        answers: [
          { text: "Muestreo estratificado", correct: false },
          { text: "Muestreo por rutas aleatorias", correct: true },
          { text: "Muestreos por cuotas", correct: false },
          { text: "Muestreo aleatorio simple", correct: false }
        ]
      },
      {
        text: "Aquellas preguntas que presentan un proceso de codificaci√≥n m√°s complejo y requiere unos preparativos previos, se denominan:",
        answers: [
          { text: "Preguntas abiertas", correct: true },
          { text: "Preguntas cerradas", correct: false },
          { text: "Preguntas simples", correct: false },
          { text: "Preguntas de respuesta m√∫ltiple", correct: false }
        ]
      },
      {
        text: "Atendiendo a la teor√≠a de la pir√°mide de necesidades de Maslow, aquellas necesidades asociadas a logros, respeto ganado y confianza se denominan:",
        answers: [
          { text: "Necesidades sociales", correct: false },
          { text: "Necesidades de seguridad", correct: false },
          { text: "Necesidades de reconocimiento", correct: true },
          { text: "Necesidades de autorealizaci√≥n", correct: false }
        ]
      },
      {
        text: "El cuerpo de un cuestionario tendr√° preguntas:",
        answers: [
          { text: "De repuesta √∫nica, de respuesta m√∫ltiple, filtro, bater√≠a, de recuerdo y de control.", correct: false },
          { text: "Cuantitativas, personales, directas y din√°micas.", correct: false },
          { text: "De aproximaci√≥n, de transici√≥n y complejas.", correct: true },
          { text: "Estructuradas, semiestructuradas o en profundidad.", correct: false }
        ]
      },
      {
        text: "El desarrollo de la investigaci√≥n comercial, bajo unos adecuados est√°ndares de calidad, debe cumplir las siguientes condiciones:",
        answers: [
          { text: "Relevancia", correct: false },
          { text: "Objetividad", correct: true },
          { text: "Car√°cter sistem√°tico", correct: false },
          { text: "Subjetividad", correct: false }
        ]
      },
      {
        text: "El mentoring:",
        answers: [
          { text: "Dificulta la transmisi√≥n de nociones te√≥ricas.", correct: false },
          { text: "Se enfoca a temas concretos y espec√≠ficos.", correct: false },
          { text: "Permite una formaci√≥n individual y espec√≠fica.", correct: true },
          { text: "Facilita la transmisi√≥n de documentos o recomendaciones.", correct: false }
        ]
      },
      {
        text: "A la hora de realizar una evaluaci√≥n de los planes de formaci√≥n dirigidos al personal encuestador que se han llevado a cabo en el seno de la organizaci√≥n, es preciso prestar atenci√≥n, desde una perspectiva cualitativa, al nivel de consecuci√≥n de nuestras expectativas previas en relaci√≥n con:",
        answers: [
          { text: "El n√∫mero exacto de encuestas realizadas por el docente", correct: false },
          { text: "El tiempo que tarda el personal en realizar las encuestas", correct: false },
          { text: "La modalidad de formaci√≥n elegida, la capacitaci√≥n y experiencia del entrevistado, y la estructura organizativa del entrevistado", correct: false },
          { text: "La modalidad de formaci√≥n elegida, la capacitaci√≥n y experiencia del docente, y la estructura organizativa del docente", correct: true }
        ]
      },
      {
        text: "Atendiendo a la escala de medida intr√≠nseca de la variable, aquellas asociadas a la pertenencia o no a una categor√≠a, se denominan:",
        answers: [
          { text: "Variables ordinales", correct: true },
          { text: "Variables de intervalo", correct: false },
          { text: "Variables de raz√≥n", correct: false },
          { text: "Variables nominales", correct: false }
        ]
      },
      {
        text: "El subsistema de datos internos se compone de:",
        answers: [
          { text: "Subsistema de inteligencia de marketing y subsistema de investigaci√≥n comercial.", correct: false },
          { text: "Fuentes primarias y fuentes secundarias.", correct: false },
          { text: "Subsistema pedido-env√≠o-factura y el subsistema de informes de ventas.", correct: true },
          { text: "Subsistema de ventas y subsistema estad√≠stico.", correct: false }
        ]
      },
      {
        text: "El tipo de investigaci√≥n que se realiza de forma precia a otras investigaciones m√°s detalladas y que persigue definir o clasificar conceptos, se denomina:",
        answers: [
          { text: "Investigaci√≥n longitudinal", correct: false },
          { text: "Investigaci√≥n concluyente", correct: false },
          { text: "Investigaci√≥n transversal", correct: false },
          { text: "Investigaci√≥n exploratoria", correct: true }
        ]
      },
      {
        text: "En el muestreo sistem√°tico, la forma m√°s habitual de ir eligiendo los componentes de la muestra es a trav√©s de:",
        answers: [
          { text: "Un coeficiente de elevaci√≥n.", correct: true },
          { text: "Una afijaci√≥n simple o proporcional.", correct: false },
          { text: "Un cociente de conglomerados.", correct: false },
          { text: "Una cuota asim√©trica.", correct: false }
        ]
      },
      {
        text: "El primer paso a realizar en el proceso de tratamiento y an√°lisis de los datos obtenidos en el desarrollo de una investigaci√≥n comercial se denomina:",
        answers: [
          { text: "Tabulaci√≥n", correct: false },
          { text: "Numeraci√≥n", correct: false },
          { text: "Codificaci√≥n", correct: false },
          { text: "Verificaci√≥n", correct: true }
        ]
      },
      {
        text: "Entre las capacidades m√°s valoradas en el perfil profesional del personal encuestador, aquella que permite hacer frente de una forma constructiva a un gran n√∫mero de incidencias y problemas no contemplados previamente por la entidad responsable del proyecto, se denomina:",
        answers: [
          { text: "Capacitaci√≥n espec√≠fica", correct: false },
          { text: "Experiencia", correct: false },
          { text: "Capacidad resolutiva y de superaci√≥n del fracaso", correct: true },
          { text: "Habilidades sociales y de comunicaci√≥n", correct: false }
        ]
      },
      {
        text: "En el tratamiento de objeciones mostradas por nuestros interlocutores durante el proceso de negociaci√≥n, la t√©cnica basada en admitir la objeci√≥n, pero transformando su sentido para convertirla en un aspecto positivo sobre nuestra oferta comercial, se denomina:",
        answers: [
          { text: "Boomerang", correct: true },
          { text: "Anticipaci√≥n", correct: false },
          { text: "Debilitaci√≥n o atenuamiento", correct: false },
          { text: "Reformulaci√≥n interrogativa", correct: false }
        ]
      },
      {
        text: "La t√©cnica de creatividad grupal en la que las personas participantes aportan, durante un tiempo previamente establecido, el mayor n√∫mero de ideas posibles sobre un tema o problema determinado se denomina:",
        answers: [
          { text: "Observaci√≥n", correct: false },
          { text: "Brainstorming", correct: true },
          { text: "An√°lisis de casos", correct: false },
          { text: "Grupo de discusi√≥n", correct: false }
        ]
      },
      {
        text: "Entre las distintas tipolog√≠as de formaci√≥n presencial para el equipo de campo de la investigaci√≥n, aquella que se basa en la transmisi√≥n de informaci√≥n y conocimientos de un profesional experimentado con un car√°cter m√°s informal y personalizado se denomina:",
        answers: [
          { text: "Taller presencial", correct: false },
          { text: "Curso presencial", correct: false },
          { text: "Outdoor training", correct: false },
          { text: "Jornadas de mentoring", correct: true }
        ]
      },
      {
        text: "Entre las responsabilidades del coordinador de campo, destaca:",
        answers: [
          { text: "La funci√≥n estrat√©gica.", correct: false },
          { text: "La funci√≥n operativa.", correct: true },
          { text: "La ejecuci√≥n efectiva de las tareas.", correct: false },
          { text: "La resoluci√≥n de dudas.", correct: false }
        ]
      },
      {
        text: "La asignaci√≥n de c√≥digos o valores a las respuestas aportadas de las posibles respuestas a las preguntas contenidas en un cuestionario se denomina:",
        answers: [
          { text: "Tabulaci√≥n", correct: false },
          { text: "Numeraci√≥n", correct: false },
          { text: "Codificaci√≥n", correct: true },
          { text: "Verificaci√≥n", correct: false }
        ]
      },
      {
        text: "La codificaci√≥n:",
        answers: [
          { text: "Ser√° diferente seg√∫n el tipo de variable manejada.", correct: true },
          { text: "Resuelve las incidencias durante el desarrollo del trabajo de campo.", correct: false },
          { text: "Otorga un n√∫mero o c√≥digo a cada grupo de cuestionarios.", correct: false },
          { text: "Ninguna es correcta.", correct: false }
        ]
      },
      {
        text: "La motivaci√≥n de logro est√° asociada a:",
        answers: [
          { text: "Las caracter√≠sticas de la persona.", correct: false },
          { text: "El rendimiento.", correct: false },
          { text: "El reconocimiento social.", correct: true },
          { text: "Las caracter√≠sticas del puesto de trabajo.", correct: false }
        ]
      },
      {
        text: "La realizaci√≥n de un pretest del cuestionario no tiene como finalidad:",
        answers: [
          { text: "Localizar fallos en la estructura del cuestionario", correct: false },
          { text: "Generar el contacto preliminar entre los encuestadores y el cuestionario", correct: false },
          { text: "Poner a prueba la duraci√≥n, m√©todos y comprensi√≥n del cuestionario", correct: false },
          { text: "Recoger datos √∫tiles para la publicaci√≥n de resultados.", correct: true }
        ]
      },
      {
        text: "La t√©cnica de negociaci√≥n basada en enfocar este proceso bajo la premisa de conseguir sus metas por encima de la creaci√≥n de un consenso que beneficie a todas las partes se denomina:",
        answers: [
          { text: "Negociaci√≥n subordinada", correct: false },
          { text: "Negociaci√≥n razonada", correct: false },
          { text: "Negociaci√≥n colaborativa", correct: false },
          { text: "Negociaci√≥n por confrontaci√≥n", correct: true }
        ]
      },
      {
        text: "Las habilidades comunicativas y sociales sirven para:",
        answers: [
          { text: "Conseguir la colaboraci√≥n de los individuos.", correct: false },
          { text: "Construir un ambiente de confianza.", correct: false },
          { text: "Extraer aportaciones sinceras y √∫tiles.", correct: false },
          { text: "Todas las opciones son correctas.", correct: true }
        ]
      },
      {
        text: "Las investigaciones exploratorias se suelen usar cuando:",
        answers: [
          { text: "Se precisa el c√°lculo de porcentajes o la asociaci√≥n entre variables.", correct: false },
          { text: "El proceso de extracci√≥n de informaci√≥n se hace sobre una poblaci√≥n sin relaci√≥n con el objeto de la investigaci√≥n.", correct: true },
          { text: "La empresa no cuenta con informaci√≥n especializada sobre la materia a la que tiene que enfrentarse.", correct: false },
          { text: "El proceso de extracci√≥n de informaci√≥n se realiza sobre la poblaci√≥n directamente relacionada con el objeto de investigaci√≥n", correct: false }
        ]
      },
      {
        text: "Los estudios descriptivos se caracterizan porque:",
        answers: [
          { text: "Su principal objetivo es la aproximaci√≥n a una situaci√≥n o problema.", correct: false },
          { text: "Tienen una menor rigidez tanto en los objetivos planteados como en los procedimientos y t√©cnicas utilizados para la recogida de la informaci√≥n.", correct: false },
          { text: "Analizan el grado de asociaci√≥n entre variables, estableciendo una relaci√≥n causal entre ellas.", correct: false },
          { text: "Se basan en el c√°lculo de porcentajes o la asociaci√≥n entre variables, sin otorgarles causalidad.", correct: true }
        ]
      },
      {
        text: "Los objetivos consistentes en la concreci√≥n cuantitativa de los objetivos espec√≠ficos, mediante su transformaci√≥n en prop√≥sitos medibles a trav√©s de indicadores, y directamente verificables, se denominan:",
        answers: [
          { text: "Objetivos operativos", correct: true },
          { text: "Objetivos generales", correct: false },
          { text: "Objetivos intermedios", correct: false },
          { text: "Objetivos variables", correct: false }
        ]
      },
      {
        text: "Los objetivos espec√≠ficos son:",
        answers: [
          { text: "Cualitativos y conductuales.", correct: true },
          { text: "Cualitativos e integrales.", correct: false },
          { text: "Terminales y medibles.", correct: false },
          { text: "Cuantitativos y globales.", correct: false }
        ]
      },
      {
        text: "Para cubrir una necesidad de informaci√≥n que est√° desatendida en ese instante utilizaremos:",
        answers: [
          { text: "Fuentes primarias.", correct: true },
          { text: "T√©cnicas de campo.", correct: false },
          { text: "Investigaciones exploratorias.", correct: false },
          { text: "Fuentes secundarias.", correct: false }
        ]
      },
      {
        text: "Seg√∫n la naturaleza de la investigaci√≥n, los cuestionarios pueden ser:",
        answers: [
          { text: "No estructurados, semiestructurados o estructurados.", correct: true },
          { text: "Con presencia del encuestador o autoadministrados.", correct: false },
          { text: "Abiertos, cerrados o semicerrados.", correct: false },
          { text: "Descriptivos o causales.", correct: false }
        ]
      },
      {
        text: "Seg√∫n la Teor√≠a de las necesidades de Maslow:",
        answers: [
          { text: "Las necesidades de rango superior se satisfacen incluso cuando no est√°n cubiertas las de rango inferior.", correct: false },
          { text: "Todos los individuos llegan a las necesidades m√°s altas.", correct: false },
          { text: "Nunca se dan varias motivaciones de manera simult√°nea.", correct: false },
          { text: "Ninguna opci√≥n es correcta.", correct: true }
        ]
      },
      {
        text: "Seg√∫n las distintas tipolog√≠as de encuestas, aquella donde los encuentros son individuales y giran en torno a un cuestionario estructurado o semiestructurado es:",
        answers: [
          { text: "Encuesta personal", correct: true },
          { text: "Encuesta postal", correct: false },
          { text: "Encuesta online", correct: false },
          { text: "Encuesta telef√≥nica", correct: false }
        ]
      },
      {
        text: "Teniendo en cuenta los perfiles presentes en el equipo de campo de una investigaci√≥n, la persona responsable de la planificaci√≥n y organizaci√≥n estrat√©gica del trabajo de campo de una investigaci√≥n comercial se denomina:",
        answers: [
          { text: "Coordinador de campo", correct: false },
          { text: "Coordinador supervisor", correct: false },
          { text: "Coordinador log√≠stico y de recolecci√≥n de datos", correct: false },
          { text: "Coordinador de proyecto", correct: true }
        ]
      },
      {
        text: "Un factor que no puede condicionar o incluso dificultar el desarrollo de una entrevista es:",
        answers: [
          { text: "La duraci√≥n", correct: false },
          { text: "El sesgo del personal investigador", correct: false },
          { text: "El nivel cultural y la edad de la persona entrevistada", correct: false },
          { text: "El tipo de bol√≠grafo que use el entrevistador para tomar notas", correct: true }
        ]
      },
      {
        text: "Uno de los apartados b√°sicos dentro del informe final del trabajo de campo es:",
        answers: [
          { text: "Anexos.", correct: false },
          { text: "Descripciones tem√°ticas.", correct: false },
          { text: "Mecanismos de control y supervisi√≥n.", correct: true },
          { text: "Aclaraciones conceptuales.", correct: false }
        ]
      }
    ];

    const questionsContainer = document.getElementById("questionsContainer");
    const checkBtn = document.getElementById("checkBtn");
    const resetBtn = document.getElementById("resetBtn");
    const resultsBox = document.getElementById("results");
    const scoreText = document.getElementById("scoreText");
    const detailText = document.getElementById("detailText");

    let quizState = [];

    function shuffleArray(array) {
      return array
        .map(value => ({ value, sort: Math.random() }))
        .sort((a, b) => a.sort - b.sort)
        .map(({ value }) => value);
    }

    function buildQuiz() {
      questionsContainer.innerHTML = "";
      resultsBox.style.display = "none";
      checkBtn.disabled = false;

      quizState = questionsData.map((q, index) => {
        const shuffledAnswers = shuffleArray([...q.answers]);
        const questionId = "q" + index;
        const card = document.createElement("div");
        card.className = "question-card";
        card.dataset.questionId = questionId;

        const header = document.createElement("div");
        header.className = "question-header";

        const num = document.createElement("div");
        num.className = "question-number";
        num.textContent = "Pregunta " + (index + 1);

        const text = document.createElement("div");
        text.className = "question-text";
        text.textContent = q.text;

        header.appendChild(num);
        header.appendChild(text);

        const answersDiv = document.createElement("div");
        answersDiv.className = "answers";

        shuffledAnswers.forEach((ans, ansIndex) => {
          const label = document.createElement("label");
          label.className = "answer-option";

          const input = document.createElement("input");
          input.type = "radio";
          input.name = questionId;
          input.value = ansIndex;
          input.dataset.correct = ans.correct ? "true" : "false";

          const span = document.createElement("span");
          span.className = "answer-text";
          span.textContent = ans.text;

          label.appendChild(input);
          label.appendChild(span);
          answersDiv.appendChild(label);
        });

        card.appendChild(header);
        card.appendChild(answersDiv);
        questionsContainer.appendChild(card);

        return {
          questionId,
          element: card
        };
      });
    }

    function gradeQuiz() {
      let correctCount = 0;
      let unanswered = 0;

      quizState.forEach((q) => {
        const card = q.element;
        const options = card.querySelectorAll(".answer-option");
        let selectedInput = null;

        options.forEach(opt => {
          const input = opt.querySelector("input");
          opt.classList.remove("correct", "incorrect", "unselected-correct");
          if (input.checked) selectedInput = input;
        });

        if (!selectedInput) {
          unanswered++;
        } else if (selectedInput.dataset.correct === "true") {
          correctCount++;
        }

        options.forEach(opt => {
          const input = opt.querySelector("input");
          input.disabled = true;

          if (input.dataset.correct === "true" && input.checked) {
            opt.classList.add("correct");
          } else if (input.dataset.correct === "false" && input.checked) {
            opt.classList.add("incorrect");
          } else if (input.dataset.correct === "true" && !input.checked) {
            opt.classList.add("unselected-correct");
          }
        });
      });

      const total = questionsData.length;
      const percentage = (correctCount / total) * 100;

      let gradeClass = "bad";
      if (percentage >= 80) gradeClass = "good";
      else if (percentage >= 50) gradeClass = "medium";

      scoreText.className = "score " + gradeClass;
      scoreText.textContent = `Resultado: ${correctCount} de ${total} (${percentage.toFixed(1)}%)`;

      let detail = "";
      if (unanswered > 0) {
        detail += `Preguntas sin responder: ${unanswered}. `;
      }
      if (percentage >= 80) {
        detail += "Muy buen trabajo, dominas el tema ‚úÖ";
      } else if (percentage >= 50) {
        detail += "Vas bien, pero puedes repasar algunos conceptos üëç";
      } else {
        detail += "Mejor repasar antes del examen üìö";
      }

      detailText.textContent = detail;
      resultsBox.style.display = "flex";
      checkBtn.disabled = true;
    }

    checkBtn.addEventListener("click", gradeQuiz);
    resetBtn.addEventListener("click", buildQuiz);

    buildQuiz();
  </script>
</body>
</html>


